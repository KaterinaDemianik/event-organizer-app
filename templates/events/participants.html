{% extends "base.html" %}
{% block title %}–£—á–∞—Å–Ω–∏–∫–∏ ¬∑ {{ event.title }}{% endblock %}
{% block content %}
  <article class="card">
    <h1>üë• –£—á–∞—Å–Ω–∏–∫–∏ –ø–æ–¥—ñ—ó</h1>
    <h2 style="margin-top: 8px; color: var(--muted);">{{ event.title }}</h2>
    
    <div style="margin: 20px 0;">
      <strong>–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä:</strong> {{ event.organizer.username }}<br>
      <strong>–î–∞—Ç–∞:</strong> {{ event.starts_at|date:"d.m.Y H:i" }}<br>
      <strong>–°—Ç–∞—Ç—É—Å:</strong> <span class="badge {{ event.status }}">{{ event.get_status_display }}</span><br>
      <strong>–í—Å—å–æ–≥–æ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ:</strong> {{ participants.count }} {{ participants.count|pluralize:"—É—á–∞—Å–Ω–∏–∫,—É—á–∞—Å–Ω–∏–∫–∞,—É—á–∞—Å–Ω–∏–∫—ñ–≤" }}
    </div>

    {% if participants %}
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</th>
            <th>Email</th>
            <th>–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</th>
          </tr>
        </thead>
        <tbody>
          {% for rsvp in participants %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td><strong>{{ rsvp.user.username }}</strong></td>
              <td>{{ rsvp.user.email|default:"‚Äî" }}</td>
              <td>{{ rsvp.created_at|date:"d.m.Y H:i" }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div class="flash info" style="margin: 20px 0;">
        –ù–∞ —Ü—é –ø–æ–¥—ñ—é —â–µ –Ω—ñ—Ö—Ç–æ –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞–≤—Å—è.
      </div>
    {% endif %}

    <div style="margin-top: 20px;">
      <a role="button" class="outline" href="/events/{{ event.id }}/">‚Üê –ù–∞–∑–∞–¥ –¥–æ –ø–æ–¥—ñ—ó</a>
      <a role="button" class="outline" href="/">–ì–æ–ª–æ–≤–Ω–∞</a>
    </div>
  </article>
{% endblock %}
