{% extends "base.html" %}
{% block title %}–í—Å—ñ –ø–æ–¥—ñ—ó ¬∑ –ê–¥–º—ñ–Ω{% endblock %}
{% block content %}
  <h1>üìã –í—Å—ñ –ø–æ–¥—ñ—ó</h1>

  <div style="margin-bottom: 20px;">
    <a role="button" class="outline" href="/dashboard/">‚Üê –ù–∞–∑–∞–¥ –¥–æ –ø–∞–Ω–µ–ª—ñ</a>
  </div>

  
  <div class="filters-card card">
    <form method="get" style="display: flex; gap: 12px; align-items: center;">
      <select name="status">
        <option value="">–í—Å—ñ —Å—Ç–∞—Ç—É—Å–∏</option>
        {% for val, label in status_choices %}
          <option value="{{ val }}" {% if status_filter == val %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
      </select>
      <button type="submit">–§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏</button>
      {% if status_filter %}
        <a role="button" class="secondary" href="/dashboard/events/">–°–∫–∏–Ω—É—Ç–∏</a>
      {% endif %}
    </form>
  </div>

  
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>–ù–∞–∑–≤–∞</th>
        <th>–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä</th>
        <th>–õ–æ–∫–∞—Ü—ñ—è</th>
        <th>–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th>RSVP</th>
        <th>–î—ñ—ó</th>
      </tr>
    </thead>
    <tbody>
      {% for event in events %}
        <tr>
          <td>{{ event.id }}</td>
          <td><a href="/events/{{ event.id }}/">{{ event.title }}</a></td>
          <td>{{ event.organizer.username }}</td>
          <td>{{ event.location|default:"‚Äî" }}</td>
          <td>{{ event.starts_at|date:"d.m.Y H:i" }}</td>
          <td><span class="badge {{ event.status }}">{{ event.get_status_display }}</span></td>
          <td><strong>{{ event.rsvp_count }}</strong></td>
          <td>
            <a href="/events/{{ event.id }}/edit/">‚úèÔ∏è</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
