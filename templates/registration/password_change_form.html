{% extends "base.html" %}
{% block title %}Змінити пароль · Event Organizer{% endblock %}
{% block content %}
  <div class="auth-wrap">
    <article class="card" style="max-width: 480px;">
      <h2>Змінити пароль</h2>
      <p class="muted" style="font-size: 14px;">Введіть поточний пароль та новий пароль двічі.</p>
      <form method="post">
        {% csrf_token %}
        <fieldset>
          {% if form.non_field_errors %}
            <div class="flash error" style="margin-bottom: 8px;">
              {% for error in form.non_field_errors %}
                <p style="margin:4px 0 0;">{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}

          <div style="display: grid; gap: 10px; font-size: 14px;">
            <div>
              <label for="id_old_password" style="font-size: 13px; color: var(--muted);">Поточний пароль</label>
              {{ form.old_password }}
              {% if form.old_password.errors %}
                <span style="display:block; color:#dc3545; font-size:12px; margin-top:2px;">{{ form.old_password.errors|striptags }}</span>
              {% endif %}
            </div>

            <div>
              <label for="id_new_password1" style="font-size: 13px; color: var(--muted);">Новий пароль</label>
              {{ form.new_password1 }}
              <ul style="margin: 4px 0 0 8px; padding-left: 16px; font-size: 12px;">
                <li>Пароль не повинен бути занадто схожим на вашу іншу особисту інформацію.</li>
                <li>Пароль має містити принаймні 8 символів.</li>
                <li>Пароль не повинен бути надто поширеним.</li>
                <li>Пароль не може складатися лише з цифр.</li>
              </ul>
              {% if form.new_password1.errors %}
                <span style="display:block; color:#dc3545; font-size:12px; margin-top:2px;">{{ form.new_password1.errors|striptags }}</span>
              {% endif %}
            </div>

            <div>
              <label for="id_new_password2" style="font-size: 13px; color: var(--muted);">Підтвердження нового пароля</label>
              {{ form.new_password2 }}
              <p class="muted" style="font-size: 12px; margin-top: 4px;">Введіть новий пароль ще раз для підтвердження.</p>
              {% if form.new_password2.errors %}
                <span style="display:block; color:#dc3545; font-size:12px; margin-top:2px;">{{ form.new_password2.errors|striptags }}</span>
              {% endif %}
            </div>
          </div>
        </fieldset>
        <div style="display:flex; gap:8px;">
          <button type="submit">Зберегти новий пароль</button>
          <a role="button" class="outline" href="/accounts/profile/">Скасувати</a>
        </div>
      </form>
    </article>
  </div>
{% endblock %}
